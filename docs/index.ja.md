Ks Game Launcher
====

[English](index.md)


## [ここからダウンロードできます](https://github.com/anon5r/KsGameLauncher/releases)

<p align="center">
  <img src="https://raw.githubusercontent.com/anon5r/KSGameLauncher/main/docs/res/screen1.png" alt="preview" width="500">
</p>


# これは何？

コナステのゲームをワンクリックで起動するためのアプリケーションです。

コナステのダウンロード版ゲーム（おうちBEMANIシリーズ、ボンバーガールなど）をプレイする際は、ショートカットから一度ブラウザを起動し、画面内のボタンをクリックして初めてゲームランチャーを起動することができます。

画面を行き来したりして少々煩わしいので、コナステにログインするためのアカウントを事前に登録しておき、ゲームは本ツールからワンクリックで起動することができるようにすることができます。

## どのような仕組み？

あらかじめコンピューターに記憶したアカウントを使用して、ブラウザでアクセスしたときと同じようにログインし、ランチャー起動画面のボタンクリックまでを自動化しています。

0. アカウントを登録します
1. 起動するゲームを選択します。

以下は自動的に行われます。

1. ログイン状態を確認し、ログイン処理を行います（起動したばかりの場合場合）
2. ゲーム起動画面にアクセスします。これはデスクトップのショートカットをクリックしたときと同じです。
3. ゲーム起動画面にある「ゲーム起動」ボタンをクリックした状態と同じことをします
4. ゲームのランチャーを起動します。


## アカウントの登録とは

コナステにログインするアカウントを事前に登録しておきます。

アカウント情報の入力はツール内から行うことができます。

入力された情報は利用しているコンピューターのOS内で管理されている専用領域（下記から確認可能）に保存されます。



## アカウント情報の利用について

所定の配布元から配布されたものに限り、本ツールを通じて登録されたアカウント情報を
本来の目的（ゲームの起動）以外で通信することはありません。


所定外で配布されたものについては、改変されている可能性を考慮し、上記を保証することはできません。


## ショートカットからの起動

常時起動のランチャーを使用せず、デスクトップのアイコンダブルクリックでゲームを直接起動することができます。


### 1. ショートカットの有効化

タスクバーのランチャーアイコンを右クリックし、オプションを表示します。

オプション画面内の「ショートカット起動を有効にする」をクリックします。
確認ダイアログが表示されるので、内容を確認して問題がなければ「はい」を選択します。

![オプション画面](assets/images/shortcut_option_enable.png)

設定できたらアプリは終了してしまっても構いません。


### 2. 作成されたショートカットを編集する

ゲームインストール時に作成されたショートカットファイルを右クリックし、プロパティを開きます。

![プロパティURL変更前](assets/images/shortcut_prop1.png)

Web ドキュメントタブのURLで、 `game_id=` の後ろにある文字列をコピーしておきます。これを _ゲームID_ と呼びます
この画像の場合、`sdvx` がそれに該当します。
beatmania IIDX INFINITASの場合はURLが異なるためこれに該当しません。 `infinitas` がゲームIDとなります


![プロパティURL変更後](assets/images/shortcut_prop2.png)

URLの文字列をすべて削除し、 `ksgamelauncher://launch/` まで入力します。
この文字列の後ろに、先ほどコピーした _ゲームID_ を貼り付けます。

今回の場合は `ksgamelauncher://launch/sdvx` となります。

同様に、INFINITASの場合は `ksgamelauncher://launch/infinitas` と入力します。


このまま「適用」を押し、「OK」を押して閉じます。


### 3. ショートカットをクリックして起動します

ショートカットをダブルクリックすると、瞬間的にKs Game Launcherが起動しますが、すぐに終了します。

その後、ゲームのランチャーが起動します。



### ショートカット起動が不要になった場合

オプション画面からこの機能を無効化してください。
ショートカットを有効にするためにレジストリの一部を更新しているためです。

無効化は１クリックで行えます。


# 実行環境


OS: Microsoft&reg; Windows&trade; 10 Aniversary Update 以上

必要ランタイム: Microsoft&reg; .NET Framework 4.8

インストールが必要な場合はこちらからインストールしてください。
https://docs.microsoft.com/ja-jp/dotnet/framework/install/on-windows-10


# 実行方法

`ksgamelauncher.exe`ファイルを実行してください。

初回のみ、サーバーからJSONファイルをダウンロードします。 
次回はダウンロードされた `appinfo.json` を使用するため、サーバーには接続しません。ただし、ファイルが存在しない場合は再度ダウンロードされます。


# アンインストール

展開されたファイルをすべて削除してください。

ショートカットから起動する機能を有効にした場合は、削除する前に必ず無効化してください。

これはレジストリの一部を変更しているためです。
無効化せずにアンインストールしても問題はありませんが、コンピューター上に不要な設定が残った状態になります。



## 設定ファイルの削除

完全に削除するには下記のフォルダも削除してください

`%LOCALAPPDATA%\KsGameLauncher`

ここにはアプリの設定が保存されています。


# 対応しているゲーム

- beatmania IIDX INFINITAS
- pop'n music Lively
- NOSTALGIA (コナステ版)
- DanceDanceRevolution GRAND PRIX
- GITADORA (コナステ版)
- SOUND VOLTEX EXCEEDGEAR (コナステ版)
- ボンバーガール (コナステ版)

## 列挙されていないコナステ版ゲームについて

ゲーム起動方法が同じ場合であれば上記にないゲームでも対応しています。
ランチャーに登録するには、右クリックメニューから「ゲームを追加」を選択肢ます。
表示されたウインドウに、インストール後にデスクトップに作成されたアイコンをドラッグ&ドロップすることで追加できます。



# FAQ


## アカウントIDとパスワードを入力するのが怖い

IDとパスワードは正規のサービスサイトでログイン処理以外で送信されることはありません。
万が一不安がぬぐえない場合、本ランチャーの使用を控えてください。

本ツールはGithub上でオープンソースとして公開しています。
もしコードを読むことができる場合、ソースコードを確認してどのように動作するか確認することができます。

また、Visual Studioを用いてご自身でビルドして実行、確認することもできます。



## IDとパスワードを保存しているが、どこに保存されていますか

Windows OSにある「資格情報マネージャー」という機能を利用し、そこに入力されたIDとパスワードを補完するようにしています。
資格情報マネージャーはコントロールパネルから確認することができます。


```
コントロール パネル > ユーザー アカウント > 資格情報マネージャー > Windows 資格情報
```

使用開始後に疑念を感じた場合、上記から直接アカウント情報を削除することも可能です。


## 初回起動時に通信しているようです

インストール直後は起動可能なゲームの一覧を持っていないため、そのデータをサーバーから取得しています。
取得したデータは実行ファイルと同じフォルダ内に保存されます。

一度取得したデータは削除されない限りコンピューター内に保存され、それ以降ゲーム起動以外に通信することはありません。



## オプション画面にある「サーバーと同期」を押すとどうなりますか

[対応しているゲーム](#対応しているゲーム) にあるリストをサーバーで公開されている最新のバージョンと同期します。

(注意) ゲームを自分で追加した場合、そのゲームは消え、公開されているリストの状態に上書きされます。
ゲームリストに問題が生じたり、新しく対応されたゲームがある場合のみご利用ください。



## このツールは規約に違反しませんか？

実際の判断はサービス運営元のコナミの判断にゆだねられますが、
規約としては [PC版コナステ 利用規約](https://p.eagate.573.jp/game/eacloud/p/common/tos_pc.html) の第9条の下記の部分が禁止事項が記載される部分となります。

一部抜粋

```
第9条（禁止事項）
...
(4) 不正ツールを利用あるいは配布した場合。
(5) クライアントソフトを複製、改変、リバースエンジニア、逆コンパイル、逆アセンブル、再現等した場合。
(6) 本サービスを公序良俗および通常の倫理概念に反する方法、用途、目的、ならびに刑法もしくはその他の法律において禁止されている目的において使用した場合。
...
```

本ツールは不正を行うためのものではなく、あくまでもログインからゲームの起動を素早く行うための補助ツールであり、ゲーム本体ならびにプレイに影響を及ぼすものではありません。

また、クライアントソフト（ゲーム本体）を複製、改変、リバースエンジニア、逆コンパイル、逆アセンブルということは行っていません。

公序良俗および通常の倫理概念に反する方法、用途、目的とも考えられず、純粋にゲームを楽に起動したい、起動をワンクリックで行いたいという目的のみとなっています。


## ツールに問題を見つけました

[GithubのIssues](https://github.com/anon5r/KsGameLauncher/issues)から問題の報告をお願いします。

このツールはコナミアミューズメント非公式のものです。コナミアミューズメント様への問い合わせ行わないでください。

